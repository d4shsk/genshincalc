<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Genshin Calculator Interactive</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="style.css">

    <script src="data.js"></script>
    
    <script src="script.js" defer></script>
</head>
<body>

    <div class="modal-overlay" id="modalOverlay">
        <div class="modal-content">
            <div class="modal-header" id="modalTitle">Выберите</div>
            <div class="list-container" id="modalList"></div>
        </div>
    </div>

    <div class="sidebar">
        <div class="sidebar-icon active" onclick="switchTab('char')" id="tab-btn-char" title="Персонаж">
            <i class="fa-solid fa-user"></i>
        </div>
        <div class="sidebar-icon" onclick="switchTab('weapon')" id="tab-btn-weapon" title="Оружие">
            <i class="fa-solid fa-xmarks-lines"></i>
        </div>
    </div>

    <div class="main-container">
        <div class="panel-header-row">
            <div class="panel-title">Характеристики</div>
            <div class="panel-title" id="right-panel-title">Персонаж</div>
        </div>

        <div class="content-grid">
            <div class="panel">
                <div class="stats-header">
                    <div></div> <div>База</div> <div>Бонус</div> <div>Всего</div>
                </div>
                <div class="stats-section-title">Основные характеристики</div>
                <div class="stat-row"><div class="stat-icon"><i class="fa-solid fa-droplet"></i></div><div class="stat-name">HP</div><div class="stat-val stat-base" id="base-hp">0</div><div style="padding: 0 5px;"><input type="number" class="stat-input" id="input-hp" placeholder="0" oninput="recalc()"></div><div class="stat-val stat-total" id="total-hp">0</div></div>
                <div class="stat-row"><div class="stat-icon"><i class="fa-solid fa-gavel"></i></div><div class="stat-name">Сила атаки</div><div class="stat-val stat-base" id="base-atk">0</div><div style="padding: 0 5px;"><input type="number" class="stat-input" id="input-atk" placeholder="0" oninput="recalc()"></div><div class="stat-val stat-total" id="total-atk">0</div></div>
                <div class="stat-row"><div class="stat-icon"><i class="fa-solid fa-shield-halved"></i></div><div class="stat-name">Защита</div><div class="stat-val stat-base" id="base-def">0</div><div style="padding: 0 5px;"><input type="number" class="stat-input" id="input-def" placeholder="0" oninput="recalc()"></div><div class="stat-val stat-total" id="total-def">0</div></div>
                <div class="stat-row"><div class="stat-icon"><i class="fa-solid fa-star-of-life"></i></div><div class="stat-name">Мастерство стихий</div><div class="stat-val stat-base" id="base-em">0</div><div style="padding: 0 5px;"><input type="number" class="stat-input" id="input-em" placeholder="0" oninput="recalc()"></div><div class="stat-val stat-total" id="total-em">0</div></div>

                <div class="stats-section-title">Вторичные характеристики</div>
                <div class="stat-row"><div class="stat-icon"><i class="fa-solid fa-bolt"></i></div><div class="stat-name">Восст. энергии</div><div class="stat-val stat-base" id="base-er">0%</div><div style="padding: 0 5px;"><input type="number" class="stat-input" id="input-er" placeholder="0" oninput="recalc()"></div><div class="stat-val stat-total" id="total-er">0%</div></div>
                <div class="stat-row"><div class="stat-icon"><i class="fa-solid fa-bullseye"></i></div><div class="stat-name">Шанс крит.</div><div class="stat-val stat-base" id="base-critRate">0%</div><div style="padding: 0 5px;"><input type="number" class="stat-input" id="input-critRate" placeholder="0" oninput="recalc()"></div><div class="stat-val stat-total" id="total-critRate">0%</div></div>
                <div class="stat-row"><div class="stat-icon"><i class="fa-solid fa-skull"></i></div><div class="stat-name">Крит. урон</div><div class="stat-val stat-base" id="base-critDmg">0%</div><div style="padding: 0 5px;"><input type="number" class="stat-input" id="input-critDmg" placeholder="0" oninput="recalc()"></div><div class="stat-val stat-total" id="total-critDmg">0%</div></div>
                <div class="stat-row"><div class="stat-icon"><i class="fa-solid fa-plus-square"></i></div><div class="stat-name">Бонус лечения</div><div class="stat-val stat-base" id="base-healingBonus">0%</div><div style="padding: 0 5px;"><input type="number" class="stat-input" id="input-healingBonus" placeholder="0" oninput="recalc()"></div><div class="stat-val stat-total" id="total-healingBonus">0%</div></div>
                <div class="stat-row"><div class="stat-icon"><i class="fa-solid fa-fire"></i></div><div class="stat-name">Бонус урона элемента</div><div class="stat-val stat-base" id="base-elementDamageBonus">0%</div><div style="padding: 0 5px;"><input type="number" class="stat-input" id="input-elementDamageBonus" placeholder="0" oninput="recalc()"></div><div class="stat-val stat-total" id="total-elementDamageBonus">0%</div></div>

                <div class="stats-section-title">Параметры врага (Хиличурл 90 ур.)</div>
                <div class="stat-row">
                    <div class="stat-icon"><i class="fa-solid fa-ghost"></i></div>
                    <div class="stat-name">Срез сопротивления (%)</div>
                    <div class="stat-val stat-base"></div>
                    <div style="padding: 0 5px;"><input type="number" class="stat-input" id="input-resShred" placeholder="0" oninput="recalc()"></div>
                    <div class="stat-val stat-total" id="total-resShred">0%</div>
                </div>
            </div>

            <div class="panel">
                <div id="tab-content-char" class="tab-content active">
                    <div class="item-header">
                        <div class="char-avatar" id="char-avatar-img" onclick="openModal('char')"></div>
                        <div class="item-info">
                            <h2 id="char-name">Имя</h2>
                            <div class="stars">★★★★★</div>
                            <div>Уровень <b id="char-level">90</b>/90</div>
                        </div>
                    </div>

                    <div class="level-control">
                        <div class="level-label"><i class="fa-solid fa-crosshairs"></i> Атака</div>
                        <input type="range" class="custom-range" id="slider-normal" min="1" max="10" value="10" oninput="updateTalentLevel(this, 'val-atk', 'normal')">
                        <div class="talent-val" id="val-atk">10</div>
                    </div>
                    <div class="level-control">
                        <div class="level-label"><i class="fa-solid fa-star"></i> Элем. навык</div>
                        <input type="range" class="custom-range" id="slider-skill" min="1" max="10" value="10" oninput="updateTalentLevel(this, 'val-skill', 'skill')">
                        <div class="talent-val" id="val-skill">10</div>
                    </div>
                    <div class="level-control">
                        <div class="level-label"><i class="fa-solid fa-burst"></i> Взрыв стихий</div>
                        <input type="range" class="custom-range" id="slider-burst" min="1" max="10" value="10" oninput="updateTalentLevel(this, 'val-burst', 'burst')">
                        <div class="talent-val" id="val-burst">10</div>
                    </div>
                    <hr style="border-color: #333; margin: 15px 0;">
                    <div class="level-control" style="margin-bottom: 30px;">
                        <div class="level-label" style="width: 140px; color: #ffce44;"><i class="fa-solid fa-gem"></i> Созвездия</div>
                        <input type="range" class="custom-range" id="slider-constellation" min="0" max="6" value="0" oninput="updateConstellations(this.value)">
                        <div class="talent-val" id="val-constellation">C0</div>
                    </div>
                    <div id="talents-container"></div>
                </div>

                <div id="tab-content-weapon" class="tab-content">
                    <div class="item-header">
                        <div class="weapon-avatar" id="weapon-avatar-img" onclick="openModal('weapon')"></div>
                        <div class="item-info">
                            <h2 id="weapon-name">Название оружия</h2>
                            <div class="stars">★★★★★</div>
                            <div>Уровень <b>90</b>/90</div>
                        </div>
                    </div>
                    <p style="margin-bottom: 10px; color: #aaa;">Характеристики (Ур. 90)</p>
                    <div class="weapon-stat-display"><span class="weapon-stat-label">Базовая атака</span><span class="weapon-stat-val" id="weapon-base-atk-val">0</span></div>
                    <div class="weapon-stat-display"><span class="weapon-stat-label" id="weapon-substat-label">Характеристика</span><span class="weapon-stat-val" id="weapon-substat-val">0%</span></div>
                    <div class="talent-card" style="margin-top: 20px;">
                        <div class="talent-header"><i class="fa-solid fa-bolt"></i> Пассивная способность</div>
                        <p id="weapon-desc" style="opacity: 0.8; font-size: 0.85rem; margin-bottom: 15px;">Описание</p>
                        <div id="weapon-passive-box"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>